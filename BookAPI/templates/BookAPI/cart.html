{% extends 'base.html' %}

{% block title %}Your Cart{% endblock %}

{% block content %}
<h2>Your Cart</h2>

{% if cart_items %}
<ul>
    {% for item in cart_items %}
    <li>{{ item.item.name }} - {{ item.quantity }} x {{ item.item.price }}
        <form method="post" style="display:inline;">
            {% csrf_token %}
            <input type="hidden" name="item_id" value="{{ item.id }}">
            <button type="submit" name="action" value="decrease">Decrease</button>
            <button type="submit" name="action" value="remove">Remove</button>
        </form>
    </li>
    {% endfor %}
</ul>
<p>Total Price: ${{ total_price }}</p>
<form method="post">
    {% csrf_token %}
    <input type="hidden" name="action" value="finish_order">
    <button type="submit">Finish Order</button>
</form>
{% else %}
<p>Your cart is empty.</p>
{% endif %}
{% endblock %}